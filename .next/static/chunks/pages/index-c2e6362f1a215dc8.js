(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9246)}])},9246:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return T},default:function(){return O}});var r=t(5893),i=t(9008),s=t(7294),a=t(1043),o=t(4547),c=t(5168),l=t.n(c),u=function(e){var n=e.setType,t=e.setSort,i=e.setDirection,s=e.type,a=e.sort,o=e.direction,c=function(e,r){var s=r.target.value;switch(e){case"TYPE":n(s);break;case"SORT":t(s);break;case"DIRECTION":i(s);break;default:return}};return(0,r.jsxs)("form",{className:l().filter,children:[(0,r.jsxs)("select",{value:s,name:"type",onChange:c.bind(null,"TYPE"),children:[(0,r.jsx)("option",{value:"all",children:"All"}),(0,r.jsx)("option",{value:"public",children:"Public"}),(0,r.jsx)("option",{value:"private",children:"Private"}),(0,r.jsx)("option",{value:"forks",children:"Forks"}),(0,r.jsx)("option",{value:"sources",children:"Sources"}),(0,r.jsx)("option",{value:"member",children:"Member"}),(0,r.jsx)("option",{value:"internal",children:"Internal"})]}),(0,r.jsxs)("select",{value:a,name:"sort",onChange:c.bind(null,"SORT"),children:[(0,r.jsx)("option",{value:"created",children:"Created"}),(0,r.jsx)("option",{value:"updated",children:"Updated"}),(0,r.jsx)("option",{value:"pushed",children:"Pushed"}),(0,r.jsx)("option",{value:"full_name",children:"Full Name"})]}),(0,r.jsxs)("select",{value:o,name:"direction",onChange:c.bind(null,"DIRECTION"),children:[(0,r.jsx)("option",{value:"desc",children:"Desc"}),(0,r.jsx)("option",{value:"asc",children:"Asc"})]})]})},d=t(9113),p=t.n(d),f=function(e){var n=e.repo,t=n.url,i=n.id,s=n.name,a=n.date,o=n.downloadsUrl,c=a.replace("T"," ").replace("Z","");return(0,r.jsxs)("li",{className:p().repo,children:[(0,r.jsxs)("p",{children:["ID: ",i]}),(0,r.jsxs)("p",{children:["NAME: ",s]}),(0,r.jsxs)("p",{children:["DATE: ",c]}),(0,r.jsxs)("div",{className:p().links,children:[(0,r.jsx)("a",{target:"_blank",href:t,children:"REPO_URL"}),(0,r.jsx)("a",{target:"_blank",href:o,children:"DOWNLOADS_URL"})]})]})},h=t(400),v=t.n(h),x=function(e){var n=e.list;return(0,r.jsx)("ul",{className:v().list,children:n.map((function(e){return(0,r.jsx)(f,{repo:e},e.name)}))})},_=t(2836),j=t.n(_),m=function(){var e=function(){return(0,r.jsx)("div",{className:j().backdrop})},n=function(){return(0,r.jsxs)("div",{className:j().loading,children:[(0,r.jsx)("div",{}),(0,r.jsx)("div",{}),(0,r.jsx)("div",{})]})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e,{}),(0,r.jsx)(n,{})]})},g=t(4051),N=t.n(g);var b=function e(n,t,r,i,s){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=n,this.id=t,this.name=r,this.date=i,this.downloadsUrl=s};function S(e,n,t,r,i,s,a){try{var o=e[s](a),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(r,i)}var k=function(e){var n=(0,s.useState)(!1),t=n[0],r=n[1],i=(0,s.useState)(null),a=i[0],o=i[1],c=function(){var n,t=(n=N().mark((function n(t,i,s,a){var c,l,u,d;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(!0),o(null),c="https://api.github.com/orgs/".concat(e,"/repos?per_page=3&page=").concat(t,"&type=").concat(i,"&sort=").concat(s,"&direction=").concat(a),n.prev=3,n.next=6,fetch(c);case 6:return(l=n.sent).ok||o("Failed to connect to Github."),n.next=10,l.json();case 10:return u=n.sent,d=0===(p=u).length?[]:p.map((function(e){return new b(e.clone_url,e.id,e.name,e.created_at,e.downloads_url)})),r(!1),n.abrupt("return",d);case 16:n.prev=16,n.t0=n.catch(3),o("Something went wrong."),r(!1);case 20:case"end":return n.stop()}var p}),n,null,[[3,16]])})),function(){var e=this,t=arguments;return new Promise((function(r,i){var s=n.apply(e,t);function a(e){S(s,r,i,a,o,"next",e)}function o(e){S(s,r,i,a,o,"throw",e)}a(void 0)}))});return function(e,n,r,i){return t.apply(this,arguments)}}();return{isLoading:t,error:a,sendRequest:c}},C=t(214),w=t.n(C),E=!0,T=!0,O=function(e){var n=(0,a.I0)(),t=(0,a.v9)((function(e){return e.repos.currentPage})),c=(0,a.v9)((function(e){return e.repos.repos})),l=k("ChiuYuan-First-Organization"),d=l.isLoading,p=l.error,f=l.sendRequest,h=(0,s.useRef)(null),v=(0,s.useRef)(null),_=(0,s.useState)("all"),j=_[0],g=_[1],N=(0,s.useState)("created"),b=N[0],S=N[1],C=(0,s.useState)("desc"),T=C[0],O=C[1];(0,s.useEffect)((function(){n(o.c.addRepos(e.repos))}),[]),(0,s.useEffect)((function(){E?E=!1:f(1,j,b,T).then((function(e){var t=[];e&&e.length>0&&(t=JSON.parse(JSON.stringify(e))),n(o.c.setRepos(t))}))}),[j,b,T]);var R=(0,r.jsx)("p",{className:w().defaultText,children:"No Repos."});return p&&(R=(0,r.jsx)("p",{className:w().error,children:p})),c.length>0&&(R=(0,r.jsx)(x,{list:c})),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.default,{children:[(0,r.jsx)("title",{children:"ChiuYuan's repos"}),(0,r.jsx)("meta",{name:"description",content:"Adam Chiu's repositories."})]}),d&&(0,r.jsx)(m,{}),(0,r.jsx)("div",{ref:h,onScroll:function(){v.current.getBoundingClientRect().bottom<h.current.offsetHeight+100&&(d||f(t+1,j,b,T).then((function(e){if(e&&e.length>0){var t=JSON.parse(JSON.stringify(e));n(o.c.addRepos(t))}})))},className:w().container,children:(0,r.jsxs)("div",{id:"inner",ref:v,className:w().inner,children:[(0,r.jsx)(u,{setType:g,setSort:S,setDirection:O,type:j,sort:b,direction:T}),R]})})]})}},9113:function(e){e.exports={repo:"Card_repo__gU1vq","fade-in":"Card_fade-in__My_r4",links:"Card_links__91Svg"}},400:function(e){e.exports={list:"CardList_list__aogNS"}},5168:function(e){e.exports={filter:"Filter_filter__iCoEa"}},2836:function(e){e.exports={backdrop:"LoadingAnimation_backdrop__OcCYF",loading:"LoadingAnimation_loading__FUYKt",scaleUp:"LoadingAnimation_scaleUp__HDp9E"}},214:function(e){e.exports={defaultText:"Home_defaultText__uMyT9",error:"Home_error__m2kA6",container:"Home_container__bCOhY"}},9008:function(e,n,t){e.exports=t(5443)}},function(e){e.O(0,[774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);